monitor = HDMI-A-1, preferred, auto, 1

################
### PROGRAMS ###
################

# set programs that you use
$terminal = kitty
$fileManager = nautilus --new-window
$browser = flatpak run app.zen_browser.zen
$menu = ~/.config/rofi/launchers/type-2/launcher.sh
$powermenu = ~/.config/rofi/powermenu/type-2/powermenu.sh

#################
### AUTOSTART ###
#################

# reminder: install mako, hyprpolkitagent, swww-daemon and apple_cursor
# wallpaper
exec-once = swww-daemon
exec-once = swww img /home/adrian/Pictures/Wallpapers/mountain.png --transition-type none

# set cursor
exec-once = hyprctl setcursor macos 24

# notifications, authentications
exec-once = systemctl --user start hyprpolkitagent
exec-once = mako

# exec-once = waybar

#############################
### ENVIRONMENT VARIABLES ###
#############################

env = XCURSOR_THEME,macOS
env = XCURSOR_SIZE,24
env = LIBVA_DRIVER_NAME,nvidia
env = __GLX_VENDOR_LIBRARY_NAME,nvidia

#####################
### LOOK AND FEEL ###
#####################

general {
  gaps_in = 2
    gaps_out = 2

    border_size = 1
    # default (teal): rgba(33ccffee) rgba(00ff99ee) 45deg
    col.active_border = rgba(3265ffee) rgba(00e5ffee) 45deg
    col.inactive_border = rgba(595959aa)

    resize_on_border = false

    allow_tearing = true # true = vsync-off, false = vsync-on

    layout = dwindle
}

decoration {
  rounding = 5
    rounding_power = 2
    # default: 10, 2

    active_opacity = 1.0
    inactive_opacity = 1.0

    shadow {
      enabled = false
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }

  blur {
    enabled = true
      size = 3
      passes = 1

      vibrancy = 0.1696
  }
}

animations {
  # using default animations
  enabled = yes, please :)

    bezier = easeOutQuint,   0.23, 1,    0.32, 1
    bezier = easeInOutCubic, 0.65, 0.05, 0.36, 1
    bezier = linear,         0,    0,    1,    1
    bezier = almostLinear,   0.5,  0.5,  0.75, 1
    bezier = quick,          0.15, 0,    0.1,  1

    animation = global,        1,     10,    default
    animation = border,        1,     5.39,  easeOutQuint
    animation = windows,       1,     4.79,  easeOutQuint
    animation = windowsIn,     1,     4.1,   easeOutQuint, popin 87%
    animation = windowsOut,    1,     1.49,  linear,       popin 87%
    animation = fadeIn,        1,     1.73,  almostLinear
    animation = fadeOut,       1,     1.46,  almostLinear
    animation = fade,          1,     3.03,  quick
    animation = layers,        1,     3.81,  easeOutQuint
    animation = layersIn,      1,     4,     easeOutQuint, fade
    animation = layersOut,     1,     1.5,   linear,       fade
    animation = fadeLayersIn,  1,     1.79,  almostLinear
    animation = fadeLayersOut, 1,     1.39,  almostLinear
    animation = workspaces,    1,     1.94,  almostLinear, fade
    animation = workspacesIn,  1,     1.21,  almostLinear, fade
    animation = workspacesOut, 1,     1.94,  almostLinear, fade
    animation = zoomFactor,    1,     7,     quick
}

#########################
### SMART GAPS/BORDER ###
#########################
workspace = w[tv1], gapsout:0, gapsin:0
workspace = f[1], gapsout:0, gapsin:0
windowrule {
  name = no-gaps-wtv1
    match:float = false
    match:workspace = w[tv1]
    border_size = 0
    rounding = 0
}
windowrule {
  name = no-gaps-f1
    match:float = false
    match:workspace = f[1]
    border_size = 0
    rounding = 0
}

#dwindle {
#    pseudotile = true
#    preserve_split = true
#}

master {
  new_status = master
}

misc {
  force_default_wallpaper = 0
    disable_hyprland_logo = true
    disable_splash_rendering = true
}

#############
### INPUT ###
#############

input {
  kb_layout = pl,ee,de
    kb_variant = ,us,us
    kb_model = 
    kb_options = 

    follow_mouse = 1

    force_no_accel = 1
    sensitivity = 0 

    touchpad {
      natural_scroll = true
    }
}

###################
### KEYBINDINGS ###
###################

$mainMod = SUPER

bind = $mainMod, Q, exec, $terminal
bind = $mainMod, D, exec, pkill rofi || $menu
bind = $mainMod, E, exec, $fileManager
bind = $mainMod, W, exec, $browser
bind = $mainMod, R, exec, selected=$($powermenu)
bind = $mainMod, S, exec, hyprshot -m region --clipboard-only --freeze
bind = $mainMod, A, exec, hyprpicker -a

bind = CTRL, Q, killactive,
bind = $mainMod, SPACE, togglefloating,
bind = $mainMod, F, fullscreen, 0
bind = $mainMod, G, exec, /usr/local/bin/toggle_gaps.sh
#bind = $mainMod, R, exec, killall -SIGUSR2 waybar
# ^^^ uncomment if you use waybar, this bind resets it

bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod CTRL, 1, movetoworkspace, 1
bind = $mainMod CTRL, 2, movetoworkspace, 2
bind = $mainMod CTRL, 3, movetoworkspace, 3
bind = $mainMod CTRL, 4, movetoworkspace, 4
bind = $mainMod CTRL, 5, movetoworkspace, 5

bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

bind = $mainMod, Z, exec, hyprctl switchxkblayout all 0
bind = $mainMod, X, exec, hyprctl switchxkblayout all 1
bind = $mainMod, C, exec, hyprctl switchxkblayout all 2

bind = $mainMod, H, exec, /usr/local/bin/audio-switch-device.sh 1
bind = $mainMod, J, exec, /usr/local/bin/audio-switch-device.sh 2
bind = $mainMod, K, exec, /usr/local/bin/audio-switch-device.sh 3

binde = , XF86AudioRaiseVolume, exec, /usr/local/bin/volume.sh 2%+
binde = , XF86AudioLowerVolume, exec, /usr/local/bin/volume.sh 2%-
bind  = , XF86AudioMute,        exec, /usr/local/bin/volume.sh toggle
# ^^^ note: i use a knob on my keyboard and pressing it sends XF86AudioMute, and i just prefer it stop media instead of muting

# requires playerctl
bindl = , XF86AudioPlay,  exec, playerctl play-pause
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioNext,  exec, playerctl next
bindl = , XF86AudioPrev,  exec, playerctl previous

##############################
### WINDOWS AND WORKSPACES ###
##############################

windowrule {
  name = suppress-maximize-events
    match:class = .*

    suppress_event = maximize
}

windowrule {
# Fix some dragging issues with XWayland
  name = fix-xwayland-drags
    match:class = ^$
    match:title = ^$
    match:xwayland = true
    match:float = true
    match:fullscreen = false
    match:pin = false

    no_focus = true
}

# Hyprland-run windowrule
windowrule {
  name = move-hyprland-run

    match:class = hyprland-run

    move = 20 monitor_h-120
    float = yes
}

# Tie programs to their workspaces; view using sleep 3 && hyprctl activewindow
windowrule = workspace 3 silent, match:class ^(steam)$
windowrule = workspace 3 silent, match:class ^(discord)$
windowrule = workspace 3 silent, match:class ^(im.riot.Riot)$
windowrule = workspace 4 silent, match:class ^()$

# Set pavucontrol to floating
windowrule = float 1, match:class ^(org.pulseaudio.pavucontrol)$
windowrule = float 1, match:class ^(org.gnome.Calculator)$
